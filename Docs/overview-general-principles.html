<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Renga API: General principles</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.ico" type="image/x-icon"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Renga API"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="renga_api.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="clipboard.js"></script>
</head>
<body>
<div id="top"  style="background-color: #cbd2db; "><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" >
<table style="background-color: #cbd2db; padding: 10px;">
 <tbody>
 <tr style="height: 56px; width: 100%;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0em;">
   <div id="projectnumber">
   v2.41
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.html" method="get">
              <span id="MSearchSelectExt">&#160;</span>
              <input type="text" id="MSearchField" name="query" value="" placeholder="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('overview-general-principles.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">General principles</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#additional-interfaces">Additional interfaces</a><ul><li class="level2"><a href="#autotoc_md1">What is additional interface?</a></li>
<li class="level2"><a href="#additional-interfaces-examples">Examples</a><ul><li class="level3"><a href="#autotoc_md2">Receive Assembly model</a></li>
<li class="level3"><a href="#autotoc_md3">Receive Material properties</a></li>
<li class="level3"><a href="#autotoc_md4">Receive object level settings</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_pages_2b_overview-general-principles"></a> In order to better understand the API of the Renga system, it is useful to read about the basic principles of the organization and internal mechanisms of the Renga API.</p>
<h1><a class="anchor" id="additional-interfaces"></a>
Additional interfaces</h1>
<p>In order to develop the API without breaking binary compatibility with already released plugins, interface inheritance should not be used. Therefore, to extend some basic Renga API interface with additional functionality an "additional" interface is used.</p>
<h2><a class="anchor" id="autotoc_md1"></a>
What is additional interface?</h2>
<p>Additional interface is an interface that can be obtained from a certain base interface by type casting through Renga internal mechanisms, rather than through standard mechanisms of object-oriented language. Another words developer receives some Renga object as a basic interface and tries to receive additional interface from it. If the object supports this additional interface the cast will succeed.</p>
<p>Since the Renga API is built using COM technology, the standard method QueryInterface() is used to obtain "additional" interfaces. In C#, the use of this method is hidden behind the standard language casting methods.</p>
<p>The interface from which a particular interface can be obtained is described in the Renga API documentation.</p>
<h2><a class="anchor" id="additional-interfaces-examples"></a>
Examples</h2>
<h3><a class="anchor" id="autotoc_md2"></a>
Receive Assembly model</h3>
<p>In order to get Assembly model objects, you can get an assembly instance as a basic <a class="el" href="interface_i_entity.html">IEntity</a> interface and cast it to the <a class="el" href="interface_i_model.html">IModel</a> interface.</p>
<p>C++</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> pAssembly = pProject-&gt;Assemblies-&gt;GetById(assemblyId);</div>
<div class="line"><span class="keyword">auto</span> pAssemblyModel = Renga::IModelPtr{};</div>
<div class="line">pAssembly-&gt;QueryInterface(&amp;pAssemblyModel);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (pAssemblyModel != <span class="keyword">nullptr</span>)</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// work with assembly objects model</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>C#</p>
<div class="fragment"><div class="line">var assembly = project.Assemblies.GetById(assemblyId);</div>
<div class="line">var assemblyModel = assembly as Renga.IModel;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (assemblyModel)</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// work with assembly objects model</span></div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md3"></a>
Receive Material properties</h3>
<p>In order to get Material properties, you can get a material instance as a basic <a class="el" href="interface_i_entity.html">IEntity</a> interface and cast it to the <a class="el" href="interface_i_property_container.html">IPropertyContainer</a> interface.</p>
<p>C++</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> pMaterial = pProject-&gt;Materials-&gt;GetById(materialId);</div>
<div class="line"><span class="keyword">auto</span> pMaterialProperties = Renga::IPropertyContainerPtr{};</div>
<div class="line">pMaterial-&gt;QueryInterface(&amp;pMaterialProperties);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (pMaterialProperties!= <span class="keyword">nullptr</span>)</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// work with material properties</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>C#</p>
<div class="fragment"><div class="line">var material = project.Materials.GetById(materialId);</div>
<div class="line">var materialProperties = material as Renga.IPropertyContainer;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (materialProperties)</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// work with material properties</span></div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md4"></a>
Receive object level settings</h3>
<p>In order to get object level settings, you can get an object instance as a basic <a class="el" href="interface_i_model_object.html">IModelObject</a> interface and cast it to the <a class="el" href="interface_i_level_object.html">ILevelObject</a> interface.</p>
<p>C++</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> pModelObjects = pProject-&gt;Model-&gt;GetObjects();</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; pModelObjects-&gt;Count; i++)</div>
<div class="line">{</div>
<div class="line">  <span class="keyword">auto</span> pModelObject = pModelObjects-&gt;GetByIndex(i);</div>
<div class="line"> </div>
<div class="line">  Renga::ILevelObjectPtr pLevelObject;</div>
<div class="line">  pModelObject-&gt;QueryInterface(&amp;pBeamParams);</div>
<div class="line">  <span class="keywordflow">if</span> (pLevelObject)</div>
<div class="line">  {</div>
<div class="line">    <span class="comment">// Work with object position on level</span></div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p>C#</p>
<div class="fragment"><div class="line">var modelObjects = project.Model.GetObjects();</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; modelObjects.Count; i++)</div>
<div class="line">{</div>
<div class="line">  var modelObject = modelObjects.GetByIndex(i);</div>
<div class="line"> </div>
<div class="line">  var levelObject = modelObject as Renga.ILevelObject;</div>
<div class="line">  <span class="keywordflow">if</span> (levelObject)</div>
<div class="line">  {</div>
<div class="line">    <span class="comment">// Work with object position on level</span></div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen-->
<!--BEGIN FOOTER-->
<div id="nav-path" class="navpath">
    <ul>
      <li class="footer"><a href="https://help.rengabim.com/" target="blank">Renga</a> | <a href="https://github.com/RengaSoftware" target="blank">Renga Software on GitHub</a> | <a href="doxygen_crawl.html">Generated by </a><a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"></a> 1.10.0 </li>
    </ul>
</div>
<!--END FOOTER-->
<!-- end header part -->
